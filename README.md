# hi9_respawndelay

Minecraft: Java edition datapack for adding respawn delay.

リスポーンまでの待機時間を追加します。Java Edition のみ動作します

## 概要

このデータパックは、Minecraftに **リスポーンしてから復活までに時間をおかせる** だけのデータパックです。ミニゲームや別のデータパックと同梱できます。

## 機能

- 即時リスポーン
- 個人でリスポーンまでの時間を変更
- 観戦禁止 (攻城戦など、ギミック付きのマップで中身を見せたくないとき)
- 英語もできます

## 使い方

`/function hi_respawndelay:help`
ですべての設定が見られます。

## 内部仕様

### 設定のリセット
`/function hi_respawndelay:internal/resetconfig`
ですべての設定をリセットできます。動作不良のときのどうぞ

ただし **リスポーンの時間など 設定でないものはリセットされません**。すべてをリセットする場合は internal/init.mcfunction に書いてある scoreboard を削除してください。

### コマンドでリスポーン時間を制御する

リスポーン時間の設定には 2種類 存在します。
- 全員のリスポーン時間(グローバルの設定)
- 個別のリスポーン時間(ローカルの設定)

このデータパックでは **全員のリスポーン時間** の設定が優先されます。個別にリスポーン時間が設定されていた場合でも、全員のリスポーン時間が設定されている場合は個別のリスポーン時間は適用されません。

個別のリスポーン時間を設定したい場合、全員のリスポーン時間を **-1 に設定する** 必要があります。(明示的に無効化する)

なお、これらの時間の **単位は Tick (1/20秒)** です。
リスポーン時間を **0 に設定すると即座にリスポーンさせられます**。

`/function hi9_respawndelay:internal/respawn` で強制的にリスポーンできます。

### 強制的にリスポーンさせる

`/function hi9_respawndelay:internal/rip` を実行したプレイヤーは死亡した扱いとなり、スペクテイターモードになります。
待機時間が終了すると、プレイヤーは **スポーン地点に戻されます**。

### 死亡時/復活時の演出を変更する

*このデータパックのソースコードは MIT ライセンスです。自由に書き換えて再配布することができます。*

死亡時の処理は `data/hi9_respawndelay/functions/internal/`